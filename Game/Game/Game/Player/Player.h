#pragma once
#include "CharaCon/CharacterController.h"

class Player : public IGameObject
{
public:
	Player();
	~Player();
	/// <summary>
	/// ?v???C???[??|?W?V??????èÔ????????
	/// </summary>
	const Vector3& GetPos() const
	{
		return m_position;
	}
private:
	/// <summary>
	/// ???????B
	/// </summary>
	/// <returns></returns>
	bool Start()override;
	/// <summary>
	/// ?v???C???[??X?V????B
	/// </summary>
	void Update()override;
	/// <summary>
	/// ???f??????????B
	/// </summary>
	void InitModel();
	/// <summary>
	/// ?v???C???[????????????????????B
	/// </summary>
	void MoveOperation();
	/// <summary>
	/// ????????????J??????O??????E??èÔ??????????B
	/// </summary>
	void GetCameraVector();
	/// <summary>
	/// ?v???C???[??R???g???[???[?????????B
	/// </summary>
	void PlayerInputProcessing();
	/// <summary>
	/// ?v???C???[???]?????B
	/// </summary>
	void PlayerRotation();
private:
	SkinModelRender* m_playerModel = nullptr;			//?v???C???[????f???B
	CharacterController m_charaCon;					//?L?????N?^?[?R???g???[???[?B

	Vector3 m_position = Vector3::Zero;				//?v???C???[??|?W?V?????B
	Vector3 m_moveSpeed = Vector3::Zero;			//?v???C???[??X?s?[?h??????B
	Vector3 m_cameraForward = Vector3::Zero;			//?????g???J?????O???????èÔ?B
	Vector3 m_cameraRight = Vector3::Zero;			//?????g???J???????E?????èÔ?B
	Vector3 m_scale = { 1.0f,1.0f,1.0f };			//?????B

	Quaternion m_rotation = Quaternion::Identity;	//???g????]?????B
	Quaternion m_rotating = Quaternion::Identity;	//???f??????????????g????]????B
	
	const float ZERO = 0.0f;						//?}?W?b?N?i???o?[??h???[???B
	float m_speed = 50.0f;							//à⁄ìÆë¨ìxÅB
		
	int m_runSpeed = 1;								//????????????|???????B
};

